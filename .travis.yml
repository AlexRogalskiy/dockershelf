sudo: required
services: docker
dist: trusty
group: edge
language: ruby
addons:
    apt:
        sources:
            - debian-sid
        packages:
            - debootstrap
env:
    global:
        # Docker Hub username ${DH_USERNAME}
        - DH_USERNAME="luisalejandro"
        # Docker Hub password ${DH_PASSWORD}
        - secure: "oDB6+RmyILUoZ3Ha1A/Oczrh6nHKYZm3wkf91ZmtRZQk1LeDie7ra6d8GsBCjyhQgk5TeZool+MNFIixFuiMg5Scgx381dOLgcIS5Cwg71OOCgnRIjz30zuU/iXh0+yIcGgqMzzZOl0ZGEt77aLmFSdgXK1iwnZdx9HujnLrAG/44d4+KC+6F2i4grW4KrGt2h+SeDnHvewS4iNpqGRbNlHqB3HuUZJVKEyPM/9ITjnj/4xnOqgdHI/amHqre9gbos02Dq54KAF8UYu34d/miLDzc7j8EiyVAi9LhV9K85z5RvuFJhxZB/ntOI08mY/0/KR06DUlAOYicdVnAwPJ7jAWItrRk/bpDwYFTzNcGd0kRHCLKRUFtz1olJhx2a/Gt2xkKusmAjJgrGjtIYCdvB79zY0ChRjQYbV8FwwZw9xyT+l0sg79nUWzsMCOJc2dBpTFXHyN2wnUrIsjtEBtyW0mvd1XcC9iYfInxCGyIkbLYukP+ECpZtNX44TLw47obyfUIVO/w1samgqGurloEjtJ/ry2HCIQJfcMWdS83y5nsp6POi/fa5CTtN9QPRie8QFFPfjZwwNCxW0bLj6xXXEqaRRBR+WDlA4en/j6YRNCjN2eKc7oT5sxE9b4RPbZpcEk0WeYHkCN5NOWQQNrH95hUjWZa/cu0b3RADNJ0/8="
    matrix:
        - DOCKER_IMAGE_NAME="dockershelf/debian:wheezy"
        - DOCKER_IMAGE_NAME="dockershelf/debian:jessie"
        - DOCKER_IMAGE_NAME="dockershelf/debian:stretch"
        - DOCKER_IMAGE_NAME="dockershelf/debian:sid"
        - DOCKER_IMAGE_NAME="dockershelf/python:2.6"
        - DOCKER_IMAGE_NAME="dockershelf/python:2.7"
        - DOCKER_IMAGE_NAME="dockershelf/python:3.2"
        - DOCKER_IMAGE_NAME="dockershelf/python:3.4"
        - DOCKER_IMAGE_NAME="dockershelf/python:3.5"
        - DOCKER_IMAGE_NAME="dockershelf/python:3.6"
        - DOCKER_IMAGE_NAME="dockershelf/python:2.7and3.5"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:2.6"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:2.7"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:3.2"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:3.4"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:3.5"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:3.6"
        - DOCKER_IMAGE_NAME="dockershelf/pypicontents:2.7and3.5"
        - DOCKER_IMAGE_NAME="dockershelf/latex:sid"
script: travis_wait 40 bash build-image.sh ${DOCKER_IMAGE_NAME}
after_success: bash push-image.sh ${DOCKER_IMAGE_NAME} ${DH_USERNAME} ${DH_PASSWORD}